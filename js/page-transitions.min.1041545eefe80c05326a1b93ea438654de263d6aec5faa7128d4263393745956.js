(()=>{(()=>{if(typeof window=="undefined"||typeof document=="undefined")return;const e={base:"page-transition",ready:"page-transition-ready",exit:"page-transition-exit",disabled:"page-transition-disabled"},m=()=>document.documentElement,t=m(),n=window.matchMedia("(prefers-reduced-motion: reduce)"),a=()=>{const e=window.getComputedStyle(t).getPropertyValue("--page-transition-duration").trim();if(!e)return 0;if(e.endsWith("ms"))return Number.parseFloat(e.slice(0,-2))||0;if(e.endsWith("s")){const t=Number.parseFloat(e.slice(0,-1));return Number.isFinite(t)?t*1e3:0}const n=Number.parseFloat(e);return Number.isFinite(n)?n:0},r=()=>{t.classList.remove(e.base,e.ready,e.exit),t.classList.add(e.disabled)},d=()=>{t.classList.contains(e.base)||t.classList.add(e.base),t.classList.remove(e.disabled,e.exit),window.requestAnimationFrame(()=>{t.classList.add(e.ready)})};let o=a();const c=()=>{o=a()},h=typeof document.startViewTransition=="function",i=()=>{c(),d()},u=s=>{if(t.classList.contains(e.disabled))return;if(s.defaultPrevented||s.button!==0)return;if(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)return;const a=s.target.closest("a");if(!a)return;if(a.hasAttribute("download"))return;if(a.target&&a.target.toLowerCase()!=="_self")return;if(a.dataset.noTransition==="true")return;const d=a.getAttribute("href");if(!d||d.startsWith("#"))return;let i;try{i=new URL(a.href,window.location.href)}catch{return}if(!/^https?:$/i.test(i.protocol))return;if(i.origin!==window.location.origin)return;const r=window.location;if(i.pathname===r.pathname&&i.search===r.search&&i.hash===r.hash)return;if(i.hash&&i.pathname===r.pathname&&i.search===r.search)return;s.preventDefault(),c();const l=()=>{window.location.href=i.href};if(h&&!n.matches)try{document.startViewTransition(l);return}catch{}window.requestAnimationFrame(()=>{if(t.classList.add(e.exit),o<=0){l();return}window.setTimeout(l,o)})},l=e=>{e.matches?r():i()};document.addEventListener("click",u,{capture:!0});const s=()=>{if(n.matches){r();return}i()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s,{once:!0}):s(),window.addEventListener("pageshow",()=>{s()}),typeof n.addEventListener=="function"?n.addEventListener("change",l):typeof n.addListener=="function"&&n.addListener(l)})()})()