(()=>{var e=()=>{try{return typeof window!="undefined"?window.localStorage:null}catch{return null}},t=()=>null,n=()=>null,s=()=>typeof window!="undefined"&&window.innerWidth<=768;(function(){if(typeof window!="undefined")try{window.__navModulesController=!0}catch{}const o=new WeakMap,r=()=>{if(typeof document=="undefined")return;const e=document.getElementById("nav-message-rotator");if(!e||e.__navMessageRotatorAttached)return;const n=Array.from(e.querySelectorAll(".nav-module-message"));if(!n.length){e.__navMessageRotatorAttached=!0;return}let t=n.findIndex(e=>e.classList.contains("is-active"));t<0&&(t=0);const a=e=>{if(!e)return null;let t=e.querySelector(".nav-module-text");if(!t)return null;let n=t.querySelector(".nav-module-track");if(!n){for(n=document.createElement("span"),n.className="nav-module-track";t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}return{textEl:t,track:n}},u=e=>{if(!e)return;r(e);const i=a(e);if(!i)return;const{textEl:u,track:c}=i,n=Math.max(0,u.clientWidth),s=Math.max(0,c.scrollWidth);if(s<=n)return;const h=60,l=n+s,m=l/h*1e3,t={raf:null,start:null,duration:m,containerW:n,contentW:s},d=e=>{t.start||(t.start=e);const n=(e-t.start)%t.duration,s=n/t.duration,o=Math.round(t.containerW-l*s);c.style.transform=`translate3d(${o}px,0,0)`,t.raf=requestAnimationFrame(d)};t.raf=requestAnimationFrame(d),o.set(e,t)},r=e=>{const t=o.get(e);t&&(t.raf&&cancelAnimationFrame(t.raf),o.delete(e));try{const t=a(e);t&&t.track&&(t.track.style.transform="")}catch{}},i=e=>{const s=n[t];s&&r(s),n.forEach((t,n)=>t.classList.toggle("is-active",n===e)),t=e;const o=n[t];u(o)};i(t);const h=Number.parseInt(e.dataset.rotationInterval||"",10)||1e4,c=typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let s=null;const l=()=>{if(s||c)return;s=setInterval(()=>i((t+1)%n.length),h)},d=()=>{s&&(clearInterval(s),s=null)};e.addEventListener("click",()=>{d(),i((t+1)%n.length)}),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",l),c||l(),e.__navMessageRotatorAttached=!0},i=(e,t)=>{if(!e||typeof e[t]!="function")return;try{e[t]()}catch(e){console.warn("nav-modules safeInvoke failed",e)}},a=()=>{if(typeof document=="undefined")return;i(window?.coffeeModule,"initializeCoffeeMessage"),i(window?.weatherModule,"initializeWeatherMessage"),i(window?.githubModule,"initializeGithubMessage"),r()};typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",a),document.addEventListener("turbo:load",a));try{typeof window!="undefined"&&(window.siteUtils=window.siteUtils||{},window.siteUtils.getLocalStorage=e,window.siteUtils.cssColorToInt=t,window.siteUtils.getThemeColor=n,window.siteUtils.isMobileDevice=s)}catch{}})()})()