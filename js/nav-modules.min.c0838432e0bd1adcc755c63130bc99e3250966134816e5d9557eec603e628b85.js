(()=>{var t=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch{return null}},e=e=>{if(!e&&e!==0)return null;const t=String(e).trim().toLowerCase();if(!t)return null;if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>e+e).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/rgba?\s*\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(n){const e=Number(n[1]),t=Number(n[2]),s=Number(n[3]);if([e,t,s].every(e=>Number.isFinite(e)&&e>=0&&e<=255))return(e<<16)+(t<<8)+s}return null},n=t=>{if(typeof t!="string"||!t.trim())return null;if(typeof window=="undefined"||typeof window.getComputedStyle!="function")return null;const n=n=>{if(!n)return null;try{const s=window.getComputedStyle(n).getPropertyValue(t);return e(s)}catch{return null}},s=n(document.querySelector(".dark"));if(s!==null)return s;const o=n(document.documentElement);return o!==null?o:n(document.body)},s=()=>{if(typeof window=="undefined")return!1;try{return window.innerWidth<=768}catch{return!1}};(function(){const o=new WeakMap,d=()=>{if(typeof window=="undefined"||typeof window.matchMedia!="function")return!1;try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}},r=()=>typeof document=="undefined"?null:document.getElementById("nav-message-rotator"),u=e=>{if(!e)return null;const n=e.querySelector(".nav-module-text");if(!n)return null;const s=n.textContent||"",o=s.trim();if(!o)return{textEl:n,track:null,loopWidth:0};let t=n.querySelector(".nav-module-track");const i=!t||t.dataset.source!==s;if(i){n.textContent="",t=document.createElement("span"),t.className="nav-module-track",t.dataset.source=s;const e=document.createElement("span");e.className="nav-module-track-segment",e.textContent=s;const o=document.createElement("span");o.className="nav-module-track-gap",o.textContent=" â€ƒ ";const i=e.cloneNode(!0);t.append(e,o,i),n.append(t);const a=e.offsetWidth+o.offsetWidth;t.dataset.loopWidth=String(a)}const a=Number(t.dataset.loopWidth||"0");return{textEl:n,track:t,loopWidth:a}},i=e=>{const t=o.get(e);t&&(t.raf&&cancelAnimationFrame(t.raf),t.timeout&&clearTimeout(t.timeout),o.delete(e));const n=e?.querySelector(".nav-module-track");n&&(n.style.transform="")},h=(e,t,n)=>{if(!t||!e)return;const a=u(t);if(!a||!a.track){i(t);return}const{textEl:l,track:d,loopWidth:r}=a,h=Math.max(0,l.clientWidth);if(!r||r<=h){i(t);return}const s=o.get(t)||{};s.raf&&cancelAnimationFrame(s.raf);const m=Math.max(20,Number(n)||60);s.offset=0,s.lastTime=null,s.loopWidth=r;const c=e=>{s.lastTime===null&&(s.lastTime=e);const t=e-s.lastTime;s.lastTime=e,s.offset-=m*t/1e3,s.offset<=-s.loopWidth&&(s.offset+=s.loopWidth),d.style.transform=`translate3d(${s.offset}px,0,0)`,s.raf=requestAnimationFrame(c)};s.raf=requestAnimationFrame(c),o.set(t,s)},c=(e,t,n,s)=>{if(!t)return;const i=o.get(t)||{};i.timeout&&clearTimeout(i.timeout);const a=Math.max(0,Number(n)||0);i.timeout=setTimeout(()=>{t.classList.contains("is-active")&&h(e,t,s)},a),o.set(t,i)},m=()=>{const e=r();if(!e||e.__navMessageRotatorAttached)return;const t=Array.from(e.querySelectorAll(".nav-module-message"));if(!t.length){e.__navMessageRotatorAttached=!0;return}const o=d(),a=Number.parseInt(e.dataset.marqueePauseMs||e.dataset.navScrollDelayMs||"2000",10)||2e3,l=Number.parseInt(e.dataset.marqueeSpeed||e.dataset.navScrollSpeed||"60",10)||60,f=Number.parseInt(e.dataset.rotationInterval||"10000",10)||1e4;let n=t.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0);const u=s=>{const r=(s%t.length+t.length)%t.length;if(r===n)return;i(t[n]),t.forEach((e,t)=>{e.classList.toggle("is-active",t===r)}),n=r,o||c(e,t[n],a,l)};t.forEach((e,t)=>{e.classList.toggle("is-active",t===n)}),o||c(e,t[n],a,l);let s=null;const h=()=>{if(s||o)return;s=setInterval(()=>{u(n+1)},f)},m=()=>{if(!s)return;clearInterval(s),s=null};e.addEventListener("click",()=>{m(),u(n+1)}),e.addEventListener("mouseenter",m),e.addEventListener("mouseleave",h),o||h(),e.__navMessageRotatorAttached=!0},f=e=>{if(!e)return null;const t=e=>{if(typeof e!="string")return null;try{return JSON.parse(e)}catch{return null}},s=()=>{if(typeof document=="undefined")return null;const t=document.createElement("textarea");return t.innerHTML=e,t.value},n=t(e)||t(s())||t(decodeURIComponent(e));return Array.isArray(n)?n:null},p=()=>{const e=r();if(!e)return;const n=e.getAttribute("data-messages")||e.dataset.messages,t=f(n);if(!t)return;t.forEach((t,n)=>{try{const s=document.createElement("span");s.className="nav-module-message",s.dataset.index=String(n);const o=typeof t=="object"&&t?t.label:0[0],i=typeof t=="object"&&t?t.text:t;if(o){s.dataset.label=String(o);const e=document.createElement("span");e.className="nav-module-label",e.textContent=String(o),s.append(e)}if(i!=null){const e=String(i).trim();if(e){const t=document.createElement("span");t.className="nav-module-text",t.textContent=e,s.append(t)}}e.append(s)}catch(e){console.warn("nav-modules: failed to build message",e)}})},a=(e,t)=>{if(!e||typeof e[t]!="function")return;try{e[t]()}catch(e){console.warn("nav-modules: module init failed",e)}},l=()=>{if(typeof document=="undefined")return;p(),a(window?.coffeeModule,"initializeCoffeeMessage"),a(window?.weatherModule,"initializeWeatherMessage"),a(window?.githubModule,"initializeGithubMessage"),m()};if(typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",l),document.addEventListener("turbo:load",l)),typeof window!="undefined")try{window.siteUtils=window.siteUtils||{},window.siteUtils.getLocalStorage=t,window.siteUtils.cssColorToInt=e,window.siteUtils.getThemeColor=n,window.siteUtils.isMobileDevice=s}catch(e){console.warn("nav-modules: failed to expose helpers",e)}})()})()