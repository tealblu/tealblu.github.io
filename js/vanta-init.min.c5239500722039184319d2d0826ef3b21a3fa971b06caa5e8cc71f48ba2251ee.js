(()=>{var t,s,o,a,r,c,l,u,h,m,f,d="navMessageRotatorState",e=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch(e){console.warn("Nav modules localStorage access failed",e)}return null},p=e=>{if(!e)return null;const t=e.trim().toLowerCase();if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>`${e}${e}`).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){const[,e,t,s]=n.map(Number);return(e<<16)+(t<<8)+s}return null},n=e=>{if(typeof window=="undefined"||typeof document=="undefined")return null;const t=[document.body,document.documentElement].filter(Boolean);for(const s of t){const n=p(window.getComputedStyle(s).getPropertyValue(e));if(n!==null)return n}return null},i=()=>{if(typeof window=="undefined")return!1;try{return!!(window.matchMedia&&window.matchMedia("(pointer: coarse) and (hover: none)").matches)||!!("ontouchstart"in window||navigator.maxTouchPoints&&navigator.maxTouchPoints>0)||window.innerWidth<=768}catch{return!1}};(function(){const s=()=>{const t=e();if(!t)return null;try{const n=t.getItem(d);if(!n)return null;const e=JSON.parse(n);return e&&typeof e=="object"?e:null}catch(e){console.warn("Nav modules: nav rotator state read failed",e)}return null},o=t=>{const s=e();if(!s)return;const n=e=>Number.isFinite(e)?Number(e):null,o={activeIndex:n(t?.activeIndex),lastRotationAt:n(t?.lastRotationAt),nextRotationDueAt:n(t?.nextRotationDueAt),rotationInterval:n(t?.rotationInterval),autoRotateEnabled:t?.autoRotateEnabled===!0};try{s.setItem(d,JSON.stringify(o))}catch(e){console.warn("Nav modules: nav rotator state persist failed",e)}},i=()=>{if(typeof document=="undefined")return;const t=document.getElementById("nav-message-rotator");if(!t||t.__navMessageRotatorAttached)return;const i=Array.from(t.querySelectorAll(".nav-module-message"));if(!i.length)return;let n=i.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0);const a=s();if(a&&Number.isFinite(a.activeIndex)){const e=Math.max(0,Math.min(i.length-1,a.activeIndex|0));n=e}let c=a&&Number.isFinite(a.lastRotationAt)?Number(a.lastRotationAt):null,r=a&&Number.isFinite(a.nextRotationDueAt)?Number(a.nextRotationDueAt):null;const j=a&&Number.isFinite(a.rotationInterval)?Number(a.rotationInterval):null,y=e=>{if(!e)return;e.classList.remove("is-overflowing");const t=e.querySelector(".nav-module-text");if(!t)return;e.dataset.navOriginalHtml&&(t.innerHTML=e.dataset.navOriginalHtml,delete e.dataset.navOriginalHtml);const n=t.querySelector(".nav-module-track");n&&(n.style.removeProperty("--nav-scroll-distance"),n.style.removeProperty("--nav-scroll-duration"))};let v=null;const k=()=>{v=null;const t=i[n];if(i.forEach((e,t)=>{t!==n&&y(e)}),!t)return;const s=t.querySelector(".nav-module-text");if(!s){y(t);return}const o=t.clientWidth,a=s.scrollWidth,c=typeof window!="undefined"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!Number.isFinite(o)||o<=0||a<=o||c){y(t);return}let e=s.querySelector(".nav-module-track");if(!e){t.dataset.navOriginalHtml=s.innerHTML;const o=s.innerHTML;s.innerHTML="",e=document.createElement("span"),e.className="nav-module-track";const n=document.createElement("span");n.className="nav-module-track-item",n.innerHTML=o;const i=n.cloneNode(!0);e.appendChild(n),e.appendChild(i),s.appendChild(e)}const r=e.firstElementChild?e.firstElementChild.scrollWidth:a,l=32,d=Math.max(0,Math.round(r+l)),u=Math.max(6e3,Math.min(2e4,Math.round(r/40*1e3)));t.classList.add("is-overflowing"),e.style.setProperty("--nav-scroll-distance",`${d}px`),e.style.setProperty("--nav-scroll-duration",`${u}ms`)},f=()=>{if(typeof window=="undefined")return;v!==null&&window.cancelAnimationFrame(v),v=window.requestAnimationFrame(k)},w=(e,s={})=>{const o=(Number(e)%i.length+i.length)%i.length;i.forEach((e,n)=>{const s=n===o;if(e.classList.toggle("is-active",s),e.setAttribute("aria-hidden",s?"false":"true"),s){t.dataset.activeIndex=String(n);const s=typeof e.dataset.label=="string"?e.dataset.label:"",o=(e.textContent||"").trim();s?t.title=s:o?t.title=o:t.removeAttribute("title")}}),n=o;const a=Number.isFinite(s?.rotationAt)?Number(s.rotationAt):Date.now();c=a,f()};let e=Number.parseInt(t.dataset.rotationInterval||"",10);(!Number.isFinite(e)||e<=0)&&(e=Number.isFinite(j)&&j>0?j|0:NaN);const m=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,u=Number.isFinite(e)&&e>0;u&&(e=Math.max(1,e|0));let l=u&&!(m&&m.matches),b=null;const h=()=>{o({activeIndex:n,lastRotationAt:c,nextRotationDueAt:r,rotationInterval:u?e:null,autoRotateEnabled:l})},d=Date.now();let g=null;if(l&&u)if(Number.isFinite(r)){let t=r,s=n;for(;t<=d;)t+=e,s=(s+1)%i.length;r=t,c=t-e,n=s,g=t-d}else if(Number.isFinite(c)){const t=Math.max(0,d-c);if(t>=e){const s=Math.floor(t/e);s>0&&(n=(n+s)%i.length,c+=s*e)}const o=Math.max(0,d-c),s=e-o;g=s>0?s:e,r=d+g}else c=d,g=e,r=d+e;else r=null;const E=Number.isFinite(c)?Number(c):Date.now();w(n,{rotationAt:E}),h(),f();const _=()=>{b!==null&&(window.clearTimeout(b),b=null)},O=()=>{const e=(n+1)%i.length;w(e),r=null,h()},p=t=>{if(!l)return;_();const s=u?Math.max(e,1e3):4e3,o=Number.isFinite(t)?Number(t):s,n=Math.max(o,100);r=Date.now()+n,h(),b=window.setTimeout(()=>{O(),p()},n)},x=()=>{if(!l)return;_(),r=null,h()},C=()=>{if(!l)return;p()};t.addEventListener("click",()=>{O(),l&&p()}),m&&typeof m.addEventListener=="function"&&m.addEventListener("change",e=>{l=u&&!e.matches,l?p():(_(),r=null,h()),f()}),l?(p(g),t.addEventListener("mouseenter",x),t.addEventListener("focus",x),t.addEventListener("mouseleave",C),t.addEventListener("blur",C)):h(),typeof window!="undefined"&&window.addEventListener("resize",f,{passive:!0});const A=new MutationObserver(e=>{for(const t of e)if(t.type==="characterData"||t.type==="childList"){f();break}});A.observe(t,{childList:!0,subtree:!0,characterData:!0}),t.__navMessageRotatorAttached=!0},n=(e,t)=>{if(!e||typeof e[t]!="function")return;try{e[t]()}catch(e){console.warn(`Nav modules: ${t} failed`,e)}},t=()=>{if(typeof document=="undefined")return;n(window?.coffeeModule,"initializeCoffeeMessage"),n(window?.weatherModule,"initializeWeatherMessage"),n(window?.githubModule,"initializeGithubMessage"),i()};typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",t),typeof window!="undefined"&&window.Turbo?(document.addEventListener("turbo:load",t),document.addEventListener("turbo:render",t)):document.addEventListener("turbo:load",t))})();try{typeof window!="undefined"&&(window.siteUtils=window.siteUtils||{},window.siteUtils.getLocalStorage=e,window.siteUtils.cssColorToInt=p,window.siteUtils.getThemeColor=n,window.siteUtils.isMobileDevice=i)}catch{}a="vantaAnimationIndex",r=()=>{const t=e();if(!t)return null;try{const e=t.getItem(a);if(e===null)return null;const n=Number.parseInt(e,10);return Number.isNaN(n)?null:n}catch(e){console.warn("Vanta animation index read failed",e)}return null},u=t=>{const n=e();if(!n)return;try{n.setItem(a,String(t))}catch(e){console.warn("Vanta animation index persist failed",e)}},l=[{key:"birds",label:"Birds",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.BIRDS)},createEffect:(e,t)=>window.VANTA.BIRDS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,birdSize:2,color1:t.primary,color2:t.secondary,backgroundColor:t.background,colorMode:"lerp",wingSpan:40,speedLimit:3,cohesion:20,quantity:2})},{key:"waves",label:"Waves",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.WAVES)},createEffect:(e,t)=>window.VANTA.WAVES({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,shininess:50,waveHeight:50,waveSpeed:.1,zoom:1,color:t.background,backgroundColor:t.primary})},{key:"fog",label:"Fog",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.FOG)},createEffect:(e,t)=>window.VANTA.FOG({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:t.primary,midtoneColor:t.secondary,lowlightColor:t.background,baseColor:t.background,blurFactor:1,speed:2,zoom:2.2})},{key:"net",label:"Net",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.NET)},createEffect:(e,t)=>window.VANTA.NET({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,color:t.primary,backgroundColor:t.background,maxDistance:25,spacing:15})},{key:"rings",label:"Rings",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.RINGS)},createEffect:(e,t)=>window.VANTA.RINGS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,backgroundColor:t.theme,color:t.secondary,backgroundAlpha:.5})},{key:"halo",label:"Halo",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.HALO)},createEffect:(e,t)=>window.VANTA.HALO({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,baseColor:t.secondary,backgroundColor:t.theme,amplitudeFactor:2,xOffset:0,yOffset:0,size:1.25})},{key:"blank",label:"Blank",isSupported:()=>!0,createEffect:e=>{const t={destroy(){},pause(){},resume(){}};try{e.__vantaEffect=t}catch{}return t}}],s=()=>{if(typeof window=="undefined")return{currentIndex:0};if(!window.__vantaState){const e=r();window.__vantaState={currentIndex:typeof e=="number"?e:0}}return window.__vantaState},c=()=>{if(typeof window=="undefined")return[];const e=l.filter(e=>{try{return typeof e.isSupported!="function"||e.isSupported()}catch(t){return console.warn("Vanta animation support check failed",e.key,t),!1}});try{if(i()){const t=e.findIndex(e=>e.key==="blank");t>0&&e.unshift(e.splice(t,1)[0])}}catch{}return e},t=(e={})=>{var h,m,f;if(typeof document=="undefined")return!1;const o=document.querySelector("#vanta-root")||document.querySelector("#top");if(!o)return!1;const j=e.force===!0,l=o.__vantaEffect;if(l){if(!j)return!0;typeof l.destroy=="function"&&l.destroy(),o.__vantaEffect=null}const t=c();if(!t.length)return!1;const p=s(),g=r();let a;if(typeof e.animationIndex=="number")a=e.animationIndex;else if(typeof g=="number")a=g;else if(i()){const e=t.findIndex(e=>e.key==="blank");a=e>=0?e:0}else a=p.currentIndex;const d=(a%t.length+t.length)%t.length,v=t[d],b=(m=n("--theme"))!=null?m:7241878,y={primary:(f=n("--primary"))!=null?f:6564908,secondary:(h=n("--secondary"))!=null?h:5999256,background:b,theme:b};try{const e=v.createEffect(o,y);if(!e)throw new Error("Vanta returned an empty effect instance");return o.__vantaEffect=e,p.currentIndex=d,u(d),!0}catch(e){console.error("Failed to initialize Vanta animation",v.key,e)}return!1},h=()=>{var n;if(typeof window=="undefined")return;const e=c();if(!e.length)return;const i=s(),o=(i.currentIndex+1)%e.length,a=t({force:!0,animationIndex:o});a||console.warn("Vanta animation cycle failed",(n=e[o])==null?0[0]:n.key)},m=()=>{if(typeof document=="undefined")return;const e=document.getElementById("theme-toggle");if(!e||e.__vantaReloadAttached)return;const n=()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{t({force:!0})})})};e.addEventListener("click",n),e.__vantaReloadAttached=!0},f=()=>{if(typeof document=="undefined")return;const e=document.getElementById("change-animation");if(!e||e.__rotationHandlerAttached)return;const t=400,n=()=>{if(typeof e.animate=="function"){e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:t,easing:"ease-in-out"});return}e.classList.remove("is-rotating"),void e.offsetWidth,e.classList.add("is-rotating"),window.setTimeout(()=>{e.classList.remove("is-rotating")},t)};e.addEventListener("click",()=>{n(),window.requestAnimationFrame(()=>{h(),typeof e.blur=="function"&&e.blur()})}),e.__rotationHandlerAttached=!0},o=()=>{m(),f();const e=t();!e&&typeof window!="undefined"&&window.addEventListener("load",()=>t({force:!0}),{once:!0})},document.addEventListener("DOMContentLoaded",o),document.addEventListener("turbo:load",o),document.addEventListener("turbo:before-cache",()=>{try{const e=document.querySelector("#vanta-root");e&&e.__vantaEffect&&typeof e.__vantaEffect.pause=="function"&&e.__vantaEffect.pause()}catch{}}),document.addEventListener("turbo:render",()=>{try{const e=document.querySelector("#vanta-root");e&&e.__vantaEffect&&typeof e.__vantaEffect.resume=="function"&&e.__vantaEffect.resume()}catch{}})})()