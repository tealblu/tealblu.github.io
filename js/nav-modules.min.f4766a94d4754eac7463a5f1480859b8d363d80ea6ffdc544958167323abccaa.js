(()=>{var e=()=>{try{return typeof window!="undefined"?window.localStorage:null}catch{return null}},t=()=>null,n=()=>null,s=()=>typeof window!="undefined"&&window.innerWidth<=768;(function(){if(typeof window!="undefined")try{window.__navModulesController=!0}catch{}const o=new WeakMap,r=()=>{if(typeof document=="undefined")return;const e=document.getElementById("nav-message-rotator");if(!e||e.__navMessageRotatorAttached)return;const n=Array.from(e.querySelectorAll(".nav-module-message"));if(!n.length){e.__navMessageRotatorAttached=!0;return}let t=n.findIndex(e=>e.classList.contains("is-active"));t<0&&(t=0);const i=e=>{if(!e)return null;let t=e.querySelector(".nav-module-text");if(!t)return null;let n=t.querySelector(".nav-module-track");if(!n){for(n=document.createElement("span"),n.className="nav-module-track";t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}return{textEl:t,track:n}},f=e=>{if(!e)return;const s=o.get(e);s&&s.pauseTimeout&&(clearTimeout(s.pauseTimeout),delete s.pauseTimeout),r(e);const c=i(e);if(!c)return;const{textEl:h,track:n}=c;n.style.whiteSpace="nowrap",n.style.display="inline-block";const l=Math.max(0,h.clientWidth),d=Math.max(0,n.scrollWidth),a=d-l;if(a<=0)return;const m=60,f=a/m*1e3,t={raf:null,start:null,duration:f,containerW:l,contentW:d};n.style.transform="translate3d(0,0,0)";const u=e=>{t.start||(t.start=e);const s=(e-t.start)%t.duration,o=s/t.duration,i=Math.round(-a*o);n.style.transform=`translate3d(${i}px,0,0)`,t.raf=requestAnimationFrame(u)};t.raf=requestAnimationFrame(u),o.set(e,t)},h=(e,t)=>{if(!e)return;const n=o.get(e);n&&n.pauseTimeout&&(clearTimeout(n.pauseTimeout),delete n.pauseTimeout);const s=i(e);if(!s)return;const{textEl:r,track:c}=s,l=Math.max(0,r.clientWidth),d=Math.max(0,c.scrollWidth),u=d-l;if(u<=0)return;const h=setTimeout(()=>{if(!e.classList.contains("is-active"))return;f(e)},Math.max(0,Number.isFinite(t)?Number(t):2e3)),a=o.get(e)||{};a.pauseTimeout=h,o.set(e,a)},r=e=>{const t=o.get(e);t&&(t.raf&&cancelAnimationFrame(t.raf),t.pauseTimeout&&clearTimeout(t.pauseTimeout),o.delete(e));try{const t=i(e);t&&t.track&&(t.track.style.transform="")}catch{}},u=Number.parseInt(e.dataset.marqueePauseMs||e.dataset.navScrollDelayMs||"2000",10)||2e3,a=e=>{const s=n[t];s&&r(s),n.forEach((t,n)=>t.classList.toggle("is-active",n===e)),t=e;const o=n[t];typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches||h(o,u)};a(t);const m=Number.parseInt(e.dataset.rotationInterval||"",10)||1e4,c=typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let s=null;const l=()=>{if(s||c)return;s=setInterval(()=>a((t+1)%n.length),m)},d=()=>{s&&(clearInterval(s),s=null)};e.addEventListener("click",()=>{d(),a((t+1)%n.length)}),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",l),c||l(),e.__navMessageRotatorAttached=!0},i=(e,t)=>{if(!e||typeof e[t]!="function")return;try{e[t]()}catch(e){console.warn("nav-modules safeInvoke failed",e)}},a=()=>{if(typeof document=="undefined")return;i(window?.coffeeModule,"initializeCoffeeMessage"),i(window?.weatherModule,"initializeWeatherMessage"),i(window?.githubModule,"initializeGithubMessage"),r()};typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",a),document.addEventListener("turbo:load",a));try{typeof window!="undefined"&&(window.siteUtils=window.siteUtils||{},window.siteUtils.getLocalStorage=e,window.siteUtils.cssColorToInt=t,window.siteUtils.getThemeColor=n,window.siteUtils.isMobileDevice=s)}catch{}})()})()