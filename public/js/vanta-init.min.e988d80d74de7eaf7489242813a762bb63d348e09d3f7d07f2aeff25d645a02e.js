(()=>{var l=e=>{if(!e)return null;const t=e.trim().toLowerCase();if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>`${e}${e}`).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){const[,e,t,s]=n.map(Number);return(e<<16)+(t<<8)+s}return null},s="vantaAnimationIndex",o=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch(e){console.warn("Vanta localStorage access failed",e)}return null},a=()=>{const e=o();if(!e)return null;try{const t=e.getItem(s);if(t===null)return null;const n=Number.parseInt(t,10);return Number.isNaN(n)?null:n}catch(e){console.warn("Vanta animation index read failed",e)}return null},c=e=>{const t=o();if(!t)return;try{t.setItem(s,String(e))}catch(e){console.warn("Vanta animation index persist failed",e)}},t=e=>{if(typeof window=="undefined"||typeof document=="undefined")return null;const t=[document.body,document.documentElement].filter(Boolean);for(const s of t){const n=l(window.getComputedStyle(s).getPropertyValue(e));if(n!==null)return n}return null},r=[{key:"birds",label:"Birds",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.BIRDS)},createEffect:(e,t)=>window.VANTA.BIRDS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,birdSize:2,color1:t.primary,color2:t.secondary,backgroundColor:t.background,colorMode:"lerp",wingSpan:40,speedLimit:3,cohesion:20,quantity:2})},{key:"waves",label:"Waves",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.WAVES)},createEffect:(e,t)=>window.VANTA.WAVES({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,shininess:50,waveHeight:50,waveSpeed:.25,zoom:1,color:t.background,backgroundColor:t.primary})},{key:"fog",label:"Fog",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.FOG)},createEffect:(e,t)=>window.VANTA.FOG({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:t.primary,midtoneColor:t.secondary,lowlightColor:t.background,baseColor:t.background,blurFactor:.75,speed:1,zoom:2.2})}],n=()=>{if(typeof window=="undefined")return{currentIndex:0};if(!window.__vantaState){const e=a();window.__vantaState={currentIndex:typeof e=="number"?e:0}}return window.__vantaState},i=()=>typeof window=="undefined"||!window.VANTA?[]:r.filter(e=>{try{return typeof e.isSupported!="function"||e.isSupported()}catch(t){return console.warn("Vanta animation support check failed",e.key,t),!1}}),e=(e={})=>{var l,d,u;if(typeof document=="undefined")return!1;const s=document.querySelector("#top");if(!s)return!1;const f=e.force===!0,a=s.__vantaEffect;if(a){if(!f)return!0;typeof a.destroy=="function"&&a.destroy(),s.__vantaEffect=null}if(typeof window=="undefined"||!window.VANTA)return!1;const o=i();if(!o.length)return!1;const h=n(),p=typeof e.animationIndex=="number"?e.animationIndex:h.currentIndex,r=(p%o.length+o.length)%o.length,m=o[r],g={primary:(l=t("--primary"))!=null?l:6564908,secondary:(d=t("--secondary"))!=null?d:5999256,background:(u=t("--theme"))!=null?u:7241878};try{const e=m.createEffect(s,g);if(!e)throw new Error("Vanta returned an empty effect instance");return s.__vantaEffect=e,h.currentIndex=r,c(r),!0}catch(e){console.error("Failed to initialize Vanta animation",m.key,e)}return!1},d=()=>{var s;if(typeof window=="undefined")return;const t=i();if(!t.length)return;const a=n(),o=(a.currentIndex+1)%t.length,r=e({force:!0,animationIndex:o});r||console.warn("Vanta animation cycle failed",(s=t[o])==null?0[0]:s.key)},u=()=>{if(typeof document=="undefined")return;const t=document.getElementById("theme-toggle");if(!t||t.__vantaReloadAttached)return;const n=()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e({force:!0})})})};t.addEventListener("click",n),t.__vantaReloadAttached=!0},h=()=>{if(typeof document=="undefined")return;const e=document.getElementById("change-animation");if(!e||e.__rotationHandlerAttached)return;const t=400,n=()=>{if(typeof e.animate=="function"){e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:t,easing:"ease-in-out"});return}e.classList.remove("is-rotating"),void e.offsetWidth,e.classList.add("is-rotating"),window.setTimeout(()=>{e.classList.remove("is-rotating")},t)};e.addEventListener("click",()=>{n(),window.requestAnimationFrame(()=>{d(),typeof e.blur=="function"&&e.blur()})}),e.__rotationHandlerAttached=!0};document.addEventListener("DOMContentLoaded",()=>{const t=e();u(),h(),!t&&typeof window!="undefined"&&window.addEventListener("load",()=>e({force:!0}),{once:!0})})})()