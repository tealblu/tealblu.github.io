(()=>{var c=e=>{if(!e)return null;const t=e.trim().toLowerCase();if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>`${e}${e}`).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){const[,e,t,s]=n.map(Number);return(e<<16)+(t<<8)+s}return null},o="vantaAnimationIndex",a="navMessageRotatorState",e=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch(e){console.warn("Vanta localStorage access failed",e)}return null},h=()=>{const t=e();if(!t)return null;try{const e=t.getItem(o);if(e===null)return null;const n=Number.parseInt(e,10);return Number.isNaN(n)?null:n}catch(e){console.warn("Vanta animation index read failed",e)}return null},u=t=>{const n=e();if(!n)return;try{n.setItem(o,String(t))}catch(e){console.warn("Vanta animation index persist failed",e)}},r=()=>{const t=e();if(!t)return null;try{const n=t.getItem(a);if(!n)return null;const e=JSON.parse(n);return e&&typeof e=="object"?e:null}catch(e){console.warn("Nav rotator state read failed",e)}return null},d=t=>{const s=e();if(!s)return;const n=e=>Number.isFinite(e)?Number(e):null,o={activeIndex:n(t?.activeIndex),lastRotationAt:n(t?.lastRotationAt),nextRotationDueAt:n(t?.nextRotationDueAt),rotationInterval:n(t?.rotationInterval),autoRotateEnabled:t?.autoRotateEnabled===!0};try{s.setItem(a,JSON.stringify(o))}catch(e){console.warn("Nav rotator state persist failed",e)}},n=e=>{if(typeof window=="undefined"||typeof document=="undefined")return null;const t=[document.body,document.documentElement].filter(Boolean);for(const s of t){const n=c(window.getComputedStyle(s).getPropertyValue(e));if(n!==null)return n}return null},l=[{key:"birds",label:"Birds",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.BIRDS)},createEffect:(e,t)=>window.VANTA.BIRDS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,birdSize:2,color1:t.primary,color2:t.secondary,backgroundColor:t.background,colorMode:"lerp",wingSpan:40,speedLimit:3,cohesion:20,quantity:2})},{key:"waves",label:"Waves",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.WAVES)},createEffect:(e,t)=>window.VANTA.WAVES({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,shininess:50,waveHeight:50,waveSpeed:.25,zoom:1,color:t.background,backgroundColor:t.primary})},{key:"fog",label:"Fog",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.FOG)},createEffect:(e,t)=>window.VANTA.FOG({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:t.primary,midtoneColor:t.secondary,lowlightColor:t.background,baseColor:t.background,blurFactor:1,speed:2,zoom:2.2})},{key:"net",label:"Net",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.NET)},createEffect:(e,t)=>window.VANTA.NET({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,color:t.primary,backgroundColor:t.background,maxDistance:25,spacing:15})},{key:"rings",label:"Rings",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.RINGS)},createEffect:(e,t)=>window.VANTA.RINGS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,backgroundColor:t.theme,color:t.secondary,backgroundAlpha:.5})},{key:"halo",label:"Halo",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.HALO)},createEffect:(e,t)=>window.VANTA.HALO({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,baseColor:t.secondary,backgroundColor:t.theme,amplitudeFactor:2,xOffset:0,yOffset:0,size:1.25})}],s=()=>{if(typeof window=="undefined")return{currentIndex:0};if(!window.__vantaState){const e=h();window.__vantaState={currentIndex:typeof e=="number"?e:0}}return window.__vantaState},i=()=>typeof window=="undefined"||!window.VANTA?[]:l.filter(e=>{try{return typeof e.isSupported!="function"||e.isSupported()}catch(t){return console.warn("Vanta animation support check failed",e.key,t),!1}}),t=(e={})=>{var c,l,d;if(typeof document=="undefined")return!1;const o=document.querySelector("#top");if(!o)return!1;const p=e.force===!0,a=o.__vantaEffect;if(a){if(!p)return!0;typeof a.destroy=="function"&&a.destroy(),o.__vantaEffect=null}if(typeof window=="undefined"||!window.VANTA)return!1;const t=i();if(!t.length)return!1;const h=s(),g=typeof e.animationIndex=="number"?e.animationIndex:h.currentIndex,r=(g%t.length+t.length)%t.length,m=t[r],f=(d=n("--theme"))!=null?d:7241878,v={primary:(c=n("--primary"))!=null?c:6564908,secondary:(l=n("--secondary"))!=null?l:5999256,background:f,theme:f};try{const e=m.createEffect(o,v);if(!e)throw new Error("Vanta returned an empty effect instance");return o.__vantaEffect=e,h.currentIndex=r,u(r),!0}catch(e){console.error("Failed to initialize Vanta animation",m.key,e)}return!1},m=()=>{var n;if(typeof window=="undefined")return;const e=i();if(!e.length)return;const a=s(),o=(a.currentIndex+1)%e.length,r=t({force:!0,animationIndex:o});r||console.warn("Vanta animation cycle failed",(n=e[o])==null?0[0]:n.key)},f=()=>{if(typeof document=="undefined")return;const e=document.getElementById("theme-toggle");if(!e||e.__vantaReloadAttached)return;const n=()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{t({force:!0})})})};e.addEventListener("click",n),e.__vantaReloadAttached=!0},p=()=>{if(typeof document=="undefined")return;const e=document.getElementById("change-animation");if(!e||e.__rotationHandlerAttached)return;const t=400,n=()=>{if(typeof e.animate=="function"){e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:t,easing:"ease-in-out"});return}e.classList.remove("is-rotating"),void e.offsetWidth,e.classList.add("is-rotating"),window.setTimeout(()=>{e.classList.remove("is-rotating")},t)};e.addEventListener("click",()=>{n(),window.requestAnimationFrame(()=>{m(),typeof e.blur=="function"&&e.blur()})}),e.__rotationHandlerAttached=!0},g=()=>{if(typeof document=="undefined")return;const t=document.getElementById("nav-message-rotator");if(!t||t.__navMessageRotatorAttached)return;const i=Array.from(t.querySelectorAll(".nav-module-message"));if(!i.length)return;let s=i.findIndex(e=>e.classList.contains("is-active"));s<0&&(s=0);const n=r();if(n&&Number.isFinite(n.activeIndex)){const e=Math.max(0,Math.min(i.length-1,n.activeIndex|0));s=e}let a=n&&Number.isFinite(n.lastRotationAt)?Number(n.lastRotationAt):null,o=n&&Number.isFinite(n.nextRotationDueAt)?Number(n.nextRotationDueAt):null;const v=n&&Number.isFinite(n.rotationInterval)?Number(n.rotationInterval):null,j=(e,n={})=>{const o=(Number(e)%i.length+i.length)%i.length;i.forEach((e,n)=>{const s=n===o;if(e.classList.toggle("is-active",s),e.setAttribute("aria-hidden",s?"false":"true"),s){t.dataset.activeIndex=String(n);const s=typeof e.dataset.label=="string"?e.dataset.label:"",o=(e.textContent||"").trim();s?t.title=s:o?t.title=o:t.removeAttribute("title")}}),s=o;const r=Number.isFinite(n?.rotationAt)?Number(n.rotationAt):Date.now();a=r};let e=Number.parseInt(t.dataset.rotationInterval||"",10);(!Number.isFinite(e)||e<=0)&&(e=Number.isFinite(v)&&v>0?v|0:NaN);const m=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,u=Number.isFinite(e)&&e>0;u&&(e=Math.max(1,e|0));let c=u&&!(m&&m.matches),g=null;const h=()=>{d({activeIndex:s,lastRotationAt:a,nextRotationDueAt:o,rotationInterval:u?e:null,autoRotateEnabled:c})},l=Date.now();let f=null;if(c&&u)if(Number.isFinite(o)){let t=o,n=s;for(;t<=l;)t+=e,n=(n+1)%i.length;o=t,a=t-e,s=n,f=t-l}else if(Number.isFinite(a)){const t=Math.max(0,l-a);if(t>=e){const n=Math.floor(t/e);n>0&&(s=(s+n)%i.length,a+=n*e)}const r=Math.max(0,l-a),n=e-r;f=n>0?n:e,o=l+f}else a=l,f=e,o=l+e;else o=null;const O=Number.isFinite(a)?Number(a):Date.now();j(s,{rotationAt:O}),h();const b=()=>{g!==null&&(window.clearTimeout(g),g=null)},y=()=>{const e=(s+1)%i.length;j(e),o=null,h()},p=t=>{if(!c)return;b();const s=u?Math.max(e,1e3):4e3,i=Number.isFinite(t)?Number(t):s,n=Math.max(i,100);o=Date.now()+n,h(),g=window.setTimeout(()=>{y(),p()},n)},_=()=>{if(!c)return;b(),o=null,h()},w=()=>{if(!c)return;p()};t.addEventListener("click",()=>{y(),c&&p()}),m&&typeof m.addEventListener=="function"&&m.addEventListener("change",e=>{c=u&&!e.matches,c?p():(b(),o=null,h())}),c?(p(f),t.addEventListener("mouseenter",_),t.addEventListener("focus",_),t.addEventListener("mouseleave",w),t.addEventListener("blur",w)):h(),t.__navMessageRotatorAttached=!0};document.addEventListener("DOMContentLoaded",()=>{const e=t();f(),p(),g(),!e&&typeof window!="undefined"&&window.addEventListener("load",()=>t({force:!0}),{once:!0})})})()