(()=>{(()=>{const n="navGithubActivity:",s=()=>{var e;try{return(e=window?.localStorage)!=null?e:null}catch{return null}},o=async(e,t=3)=>{const s=`https://api.github.com/users/${encodeURIComponent(e)}/events/public?per_page=${t}`,n=await fetch(s,{headers:{Accept:"application/vnd.github.v3+json"}});if(!n.ok)throw new Error(`GitHub API ${n.status}`);return n.json()},e=e=>{var s,o,i,a;if(!e)return"GitHub activity";const t=e.type||"",n=((s=e.repo)==null?0[0]:s.name)||"";return t==="PushEvent"?`pushed to ${n}`:t==="PullRequestEvent"?`${((o=e.payload)==null?0[0]:o.action)||"updated"} PR in ${n}`:t==="IssuesEvent"?`${((i=e.payload)==null?0[0]:i.action)||"updated"} issue in ${n}`:t==="CreateEvent"?`created ${((a=e.payload)==null?0[0]:a.ref_type)||"content"} in ${n}`:t==="WatchEvent"?`starred ${n}`:t==="ForkEvent"?`forked ${n}`:`${t} in ${n}`},t=e=>{if(!e)return null;const a=new Date(e);if(Number.isNaN(a.getTime()))return null;const t=Math.floor((Date.now()-a.getTime())/1e3);if(t<5)return"just now";if(t<60)return`${t}s ago`;const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);if(s<24)return`${s}h ago`;const o=Math.floor(s/24);if(o<30)return`${o}d ago`;const i=Math.floor(o/30);if(i<12)return`${i}mo ago`;const r=Math.floor(i/12);return`${r}y ago`},i=(e,t,n)=>{const s=document.createElement("span");s.className="nav-module-message",t&&(s.dataset.label=t),s.dataset.githubMessage="true",s.setAttribute("aria-hidden","true");const o=document.createElement("span");return o.className="nav-module-text",o.textContent=(t?t+" ":"")+(n||""),s.appendChild(o),e.appendChild(s),s};window.githubModule={initializeGithubMessage:async()=>{var d,u,h,m,f,p,g,v,j;if(typeof document=="undefined")return;const c=document.getElementById("nav-message-rotator");if(!c)return;if(c.__githubMessageInserted)return;const r=c.dataset||{},a={enabled:r.githubEnabled==="true"||r.navGithubEnabled==="true",username:r.githubUsername||r.navGithubUsername||((v=(j=(g=window?.siteParams)==null?0[0]:g.navModule)==null?0[0]:j.github)==null?0[0]:v.username)||null,eventsLimit:Number.parseInt(r.githubEventsLimit||"",10)||3,cacheTTLMinutes:Number.parseInt(r.githubCacheTtlMinutes||r.navGithubCacheTtlMinutes||"",10)||((u=(p=(d=window?.siteParams)==null?0[0]:d.navModule)==null?0[0]:p.github)==null?0[0]:u.cacheTTLMinutes)||15,label:typeof r.githubLabel=="string"&&r.githubLabel.trim()||((f=(m=(h=window?.siteParams)==null?0[0]:h.navModule)==null?0[0]:m.github)==null?0[0]:f.label)||"GitHub:"},b=Number(a.cacheTTLMinutes);if(a.cacheTTLMinutes=Number.isFinite(b)?b:15,a.cacheTTLMinutes<0&&(a.cacheTTLMinutes=0),!a.enabled||!a.username)return;if(c.querySelector('.nav-module-message[data-github-message="true"]')){c.__githubMessageInserted=!0;return}c.__githubMessageInserted=!0;const l=i(c,a.label,"Loading GitHubâ€¦");try{const i=s(),c=n+a.username;if(i)try{const n=i.getItem(c);if(n){const s=JSON.parse(n);if(Array.isArray(s.events)&&s.events.length){const n=Number.isFinite(a.cacheTTLMinutes)?a.cacheTTLMinutes:0,o=n>0?n*6e4:0,i=typeof s.fetchedAt=="number"?s.fetchedAt:0,r=i?Date.now()-i:1/0,c=o!==0&&r<=o;if(c){const n=s.events[0],o=t(n.created_at);l.querySelector(".nav-module-text").textContent=(a.label?a.label+" ":"")+e(n)+(o?` ${o}`:"");return}}}}catch{}const r=await o(a.username,a.eventsLimit);if(!r||!r.length){l.querySelector(".nav-module-text").textContent=(a.label?a.label+" ":"")+"No recent GitHub activity";return}const d=r[0],u=t(d.created_at);if(l.querySelector(".nav-module-text").textContent=(a.label?a.label+" ":"")+e(d)+(u?` ${u}`:""),i)try{i.setItem(c,JSON.stringify({fetchedAt:Date.now(),events:r}))}catch{}}catch(e){l.querySelector(".nav-module-text").textContent=(a.label?a.label+" ":"")+"GitHub unavailable",console.warn("github-module fetch failed",e)}}}})()})()