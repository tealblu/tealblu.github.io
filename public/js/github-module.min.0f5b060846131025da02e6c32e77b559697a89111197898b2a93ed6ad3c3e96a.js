(()=>{(()=>{const t="navGithubActivity:",n=()=>{var e;try{return(e=window?.localStorage)!=null?e:null}catch{return null}},s=async(e,t=3)=>{const s=`https://api.github.com/users/${encodeURIComponent(e)}/events/public?per_page=${t}`,n=await fetch(s,{headers:{Accept:"application/vnd.github.v3+json"}});if(!n.ok)throw new Error(`GitHub API ${n.status}`);return n.json()},e=e=>{var s,o,i,a;if(!e)return"GitHub activity";const t=e.type||"",n=((s=e.repo)==null?0[0]:s.name)||"";return t==="PushEvent"?`pushed to ${n}`:t==="PullRequestEvent"?`${((o=e.payload)==null?0[0]:o.action)||"updated"} PR in ${n}`:t==="IssuesEvent"?`${((i=e.payload)==null?0[0]:i.action)||"updated"} issue in ${n}`:t==="CreateEvent"?`created ${((a=e.payload)==null?0[0]:a.ref_type)||"content"} in ${n}`:t==="WatchEvent"?`starred ${n}`:t==="ForkEvent"?`forked ${n}`:`${t} in ${n}`},i=e=>{if(!e)return null;const a=new Date(e);if(Number.isNaN(a.getTime()))return null;const t=Math.floor((Date.now()-a.getTime())/1e3);if(t<5)return"just now";if(t<60)return`${t}s ago`;const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const s=Math.floor(n/60);if(s<24)return`${s}h ago`;const o=Math.floor(s/24);if(o<30)return`${o}d ago`;const i=Math.floor(o/30);if(i<12)return`${i}mo ago`;const r=Math.floor(i/12);return`${r}y ago`},o=(e,t,n)=>{const s=document.createElement("span");s.className="nav-module-message",t&&(s.dataset.label=t),s.dataset.githubMessage="true",s.setAttribute("aria-hidden","true");const o=document.createElement("span");return o.className="nav-module-text",o.textContent=(t?t+" ":"")+(n||""),s.appendChild(o),e.appendChild(s),s};if(window.githubModule={initializeGithubMessage:async()=>{var l,d,u,h,m,f;if(typeof document=="undefined")return;const r=document.getElementById("nav-message-rotator");if(!r)return;if(r.__githubMessageInserted)return;const a=r.dataset||{},i={enabled:a.githubEnabled==="true"||a.navGithubEnabled==="true",username:a.githubUsername||a.navGithubUsername||((u=(d=(l=window?.siteParams)==null?0[0]:l.navModule)==null?0[0]:d.github)==null?0[0]:u.username)||null,eventsLimit:Number.parseInt(a.githubEventsLimit||"",10)||3,label:typeof a.githubLabel=="string"&&a.githubLabel.trim()||((f=(m=(h=window?.siteParams)==null?0[0]:h.navModule)==null?0[0]:m.github)==null?0[0]:f.label)||"GitHub:"};if(!i.enabled||!i.username)return;r.__githubMessageInserted=!0;const c=o(r,i.label,"Loading GitHubâ€¦");try{const o=n(),r=t+i.username;if(o)try{const t=o.getItem(r);if(t){const n=JSON.parse(t);if(Array.isArray(n.events)&&n.events.length){const t=n.events[0];c.querySelector(".nav-module-text").textContent=(i.label?i.label+" ":"")+e(t);return}}}catch{}const a=await s(i.username,i.eventsLimit);if(!a||!a.length){c.querySelector(".nav-module-text").textContent=(i.label?i.label+" ":"")+"No recent GitHub activity";return}const l=a[0];if(c.querySelector(".nav-module-text").textContent=(i.label?i.label+" ":"")+e(l),o)try{o.setItem(r,JSON.stringify({fetchedAt:Date.now(),events:a}))}catch{}}catch(e){c.querySelector(".nav-module-text").textContent=(i.label?i.label+" ":"")+"GitHub unavailable",console.warn("github-module fetch failed",e)}}},typeof document!="undefined"){const e=()=>{try{window.githubModule.initializeGithubMessage()}catch{}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}})()})()