(()=>{var e,n,o,i,a,c,l,d,h,m,f,r=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch(e){console.warn("Nav modules localStorage access failed",e)}return null},u=e=>{if(!e)return null;const t=e.trim().toLowerCase();if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>`${e}${e}`).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){const[,e,t,s]=n.map(Number);return(e<<16)+(t<<8)+s}return null},t=e=>{if(typeof window=="undefined"||typeof document=="undefined")return null;const t=[document.body,document.documentElement].filter(Boolean);for(const s of t){const n=u(window.getComputedStyle(s).getPropertyValue(e));if(n!==null)return n}return null},s=()=>{if(typeof window=="undefined")return!1;try{return!!(window.matchMedia&&window.matchMedia("(pointer: coarse) and (hover: none)").matches)||!!("ontouchstart"in window||navigator.maxTouchPoints&&navigator.maxTouchPoints>0)||window.innerWidth<=768}catch{return!1}};(function(){try{typeof window!="undefined"&&(window.__navModulesController=!0)}catch{}const n=()=>{if(typeof document=="undefined")return;const n=document.getElementById("nav-message-rotator");if(!n||n.__navMessageRotatorAttached)return;let e=Array.from(n.querySelectorAll(".nav-module-message"));try{const t=e.length>0&&e.every(e=>typeof e.dataset.index!="undefined"&&e.dataset.index!==null&&e.dataset.index!=="");if(t)e.sort((e,t)=>{const n=Number(e.dataset.index),s=Number(t.dataset.index);return Number.isFinite(n)&&Number.isFinite(s)?n-s:0});else if(typeof window!="undefined"&&window.__siteParams&&window.__siteParams.navModule&&Array.isArray(window.__siteParams.navModule.messages)){const t=new Map(window.__siteParams.navModule.messages.map((e,t)=>{var n;return[String((n=e?.text)!=null?n:e).trim(),t]}));e.sort((e,n)=>{var s,o;const i=(((s=e.querySelector(".nav-module-text"))==null?0[0]:s.textContent)||e.textContent||"").trim(),a=(((o=n.querySelector(".nav-module-text"))==null?0[0]:o.textContent)||n.textContent||"").trim(),r=t.has(i)?t.get(i):Number.MAX_SAFE_INTEGER,c=t.has(a)?t.get(a):Number.MAX_SAFE_INTEGER;return r-c})}}catch(e){console.warn("Nav rotator: failed to apply config ordering",e)}if(!e.length)return;let s=e.findIndex(e=>e.classList.contains("is-active"));s<0&&(s=0);let i=null,o=null;const g=null,p=e=>{if(!e)return;e.classList.remove("is-overflowing");const n=e.querySelector(".nav-module-text");if(!n)return;e.dataset.navOriginalHtml&&(n.innerHTML=e.dataset.navOriginalHtml,delete e.dataset.navOriginalHtml);const t=n.querySelector(".nav-module-track");t&&(t.style.removeProperty("--nav-scroll-distance"),t.style.removeProperty("--nav-scroll-duration"),t.style.removeProperty("--nav-scroll-delay"))};let m=null;const O=()=>{m=null;const o=e[s];if(e.forEach((e,t)=>{t!==s&&p(e)}),!o)return;const i=o.querySelector(".nav-module-text");if(!i){p(o);return}const r=o.clientWidth,c=i.scrollWidth,u=typeof window!="undefined"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!Number.isFinite(r)||r<=0||c<=r||u){p(o);return}let t=i.querySelector(".nav-module-track");if(!t){o.dataset.navOriginalHtml=i.innerHTML;const n=i.innerHTML;i.innerHTML="",t=document.createElement("span"),t.className="nav-module-track";const e=document.createElement("span");e.className="nav-module-track-item",e.innerHTML=n;const s=e.cloneNode(!0);t.appendChild(e),t.appendChild(s),i.appendChild(t)}const l=t.firstElementChild?t.firstElementChild.scrollWidth:c,h=32,d=Math.max(0,Math.round(l+h)),a=Math.max(6e3,Math.min(2e4,Math.round(l/40*1e3)));t.style.setProperty("--nav-scroll-distance",`${d}px`),t.style.setProperty("--nav-scroll-duration",`${a}ms`);try{const s=Number.parseInt(n.dataset.navScrollDelayMs||"",10);let e=Number.isFinite(s)?Math.max(0,s):NaN;if(!Number.isFinite(e)){const t=typeof window!="undefined"&&window.__siteParams&&window.__siteParams.navModule&&Number.isFinite(Number(window.__siteParams.navModule.marqueePauseMs))?Number(window.__siteParams.navModule.marqueePauseMs):NaN;e=Number.isFinite(t)?Math.max(0,t):0}t.style.setProperty("--nav-scroll-delay",`${e}ms`)}catch{}try{t.style.willChange="transform",t.style.transform="translate3d(0,0,0)"}catch{}try{const e=typeof window!="undefined"?window.__navMessageRotatorState:null;if(e&&e.activeIndex===s&&Number.isFinite(e.scrollDistance)&&e.scrollDistance===d&&Number.isFinite(e.durationMs)&&e.durationMs===a){const n=Date.now(),s=Math.max(0,n-Number(e.timestamp||n)),o=(Number(e.progress||0)+s/a)%1;t.style.animationDelay=`-${Math.round(o*a)}ms`}else t.style.animationDelay&&t.style.removeProperty("animation-delay")}catch{}o.classList.add("is-overflowing")},l=()=>{if(typeof window=="undefined")return;m!==null&&window.cancelAnimationFrame(m),m=window.requestAnimationFrame(O)},y=(t,o={})=>{const a=(Number(t)%e.length+e.length)%e.length;e.forEach((e,t)=>{const s=t===a;if(e.classList.toggle("is-active",s),e.setAttribute("aria-hidden",s?"false":"true"),s){n.dataset.activeIndex=String(t);const s=typeof e.dataset.label=="string"?e.dataset.label:"",o=(e.textContent||"").trim();s?n.title=s:o?n.title=o:n.removeAttribute("title")}}),s=a;const r=Number.isFinite(o?.rotationAt)?Number(o.rotationAt):Date.now();i=r,l()};let t=Number.parseInt(n.dataset.rotationInterval||"",10);(!Number.isFinite(t)||t<=0)&&(t=Number.isFinite(g)&&g>0?g|0:NaN);const h=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,d=Number.isFinite(t)&&t>0;d&&(t=Math.max(1,t|0));let a=d&&!(h&&h.matches),f=null;const k=()=>{},r=Date.now();let c=null;if(a&&d)if(Number.isFinite(o)){let n=o,a=s;for(;n<=r;)n+=t,a=(a+1)%e.length;o=n,i=n-t,s=a,c=n-r}else if(Number.isFinite(i)){const n=Math.max(0,r-i);if(n>=t){const o=Math.floor(n/t);o>0&&(s=(s+o)%e.length,i+=o*t)}const l=Math.max(0,r-i),a=t-l;c=a>0?a:t,o=r+c}else i=r,c=t,o=r+t;else o=null;const w=Number.isFinite(i)?Number(i):Date.now();y(s,{rotationAt:w}),l();const v=()=>{f!==null&&(window.clearTimeout(f),f=null)},j=()=>{const t=(s+1)%e.length;y(t),o=null},u=e=>{if(!a)return;v();const s=d?Math.max(t,1e3):4e3,i=Number.isFinite(e)?Number(e):s,n=Math.max(i,100);o=Date.now()+n,f=window.setTimeout(()=>{j(),u()},n)},b=()=>{if(!a)return;v(),o=null},_=()=>{if(!a)return;u()};n.addEventListener("click",()=>{try{E()}catch{}j(),a&&u()}),h&&typeof h.addEventListener=="function"&&h.addEventListener("change",e=>{a=d&&!e.matches,a?u():(v(),o=null),l()}),a&&(u(c),n.addEventListener("mouseenter",b),n.addEventListener("focus",b),n.addEventListener("mouseleave",_),n.addEventListener("blur",_)),typeof window!="undefined"&&window.addEventListener("resize",l,{passive:!0});const x=new MutationObserver(e=>{for(const t of e)if(t.type==="characterData"||t.type==="childList"){l();break}});x.observe(n,{childList:!0,subtree:!0,characterData:!0});const C=()=>{try{const i=e[s];if(!i)return;const a=i.querySelector(".nav-module-text");if(!a)return;const n=a.querySelector(".nav-module-track");if(!n)return;const r=window.getComputedStyle(n),o=r.transform||r.webkitTransform||"";let c=0;if(o&&o!=="none"){const e=o.match(/matrix3d\(([-0-9e., ]+)\)/)||o.match(/matrix\(([-0-9e., ]+)\)/);if(e&&e[1]){const t=e[1].split(/,\s*/).map(Number);c=t.length===6?t[4]:t.length>=13?t[12]:0}}const l=n.style.getPropertyValue("--nav-scroll-distance")||"",d=n.style.getPropertyValue("--nav-scroll-duration")||"",t=l?Number(l.replace("px","").trim()):NaN,u=d?Number(d.replace("ms","").trim()):NaN;if(!Number.isFinite(t)||!Number.isFinite(u)||t<=0)return;const h=(c<0?-c:c)%t/t;window.__navMessageRotatorState={activeIndex:s,progress:h,timestamp:Date.now(),scrollDistance:t,durationMs:u}}catch{}};typeof window!="undefined"&&window.Turbo&&document.addEventListener("turbo:before-cache",C);const E=()=>{try{typeof window!="undefined"&&(window.__navMessageRotatorState=null),e.forEach(e=>{try{const n=e.querySelector(".nav-module-text");if(!n)return;const t=n.querySelector(".nav-module-track");if(!t)return;t.style.removeProperty("animation-delay"),t.style.transform="translate3d(0,0,0)"}catch{}})}catch{}};n.__navMessageRotatorAttached=!0},e=(e,t)=>{if(!e||typeof e[t]!="function")return;try{e[t]()}catch(e){console.warn(`Nav modules: ${t} failed`,e)}},t=()=>{if(typeof document=="undefined")return;e(window?.coffeeModule,"initializeCoffeeMessage"),e(window?.weatherModule,"initializeWeatherMessage"),e(window?.githubModule,"initializeGithubMessage"),n()};typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",t),document.addEventListener("turbo:load",t))})();try{typeof window!="undefined"&&(window.siteUtils=window.siteUtils||{},window.siteUtils.getLocalStorage=r,window.siteUtils.cssColorToInt=u,window.siteUtils.getThemeColor=t,window.siteUtils.isMobileDevice=s)}catch{}o="vantaAnimationIndex",i=()=>{const e=r();if(!e)return null;try{const t=e.getItem(o);if(t===null)return null;const n=Number.parseInt(t,10);return Number.isNaN(n)?null:n}catch(e){console.warn("Vanta animation index read failed",e)}return null},l=e=>{const t=r();if(!t)return;try{t.setItem(o,String(e))}catch(e){console.warn("Vanta animation index persist failed",e)}},d=[{key:"birds",label:"Birds",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.BIRDS)},createEffect:(e,t)=>window.VANTA.BIRDS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,birdSize:2,color1:t.primary,color2:t.secondary,backgroundColor:t.background,colorMode:"lerp",wingSpan:40,speedLimit:3,cohesion:20,quantity:2})},{key:"waves",label:"Waves",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.WAVES)},createEffect:(e,t)=>window.VANTA.WAVES({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,shininess:50,waveHeight:50,waveSpeed:.1,zoom:1,color:t.background,backgroundColor:t.primary})},{key:"fog",label:"Fog",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.FOG)},createEffect:(e,t)=>window.VANTA.FOG({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:t.primary,midtoneColor:t.secondary,lowlightColor:t.background,baseColor:t.background,blurFactor:1,speed:2,zoom:2.2})},{key:"net",label:"Net",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.NET)},createEffect:(e,t)=>window.VANTA.NET({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,color:t.primary,backgroundColor:t.background,maxDistance:25,spacing:15})},{key:"rings",label:"Rings",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.RINGS)},createEffect:(e,t)=>window.VANTA.RINGS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,backgroundColor:t.theme,color:t.secondary,backgroundAlpha:.5})},{key:"halo",label:"Halo",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.HALO)},createEffect:(e,t)=>window.VANTA.HALO({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,baseColor:t.secondary,backgroundColor:t.theme,amplitudeFactor:2,xOffset:0,yOffset:0,size:1.25})},{key:"blank",label:"Blank",isSupported:()=>!0,createEffect:e=>{const t={destroy(){},pause(){},resume(){}};try{e.__vantaEffect=t}catch{}return t}}],a=()=>{if(typeof window=="undefined")return{currentIndex:0};if(!window.__vantaState){const e=i();window.__vantaState={currentIndex:typeof e=="number"?e:0}}return window.__vantaState},n=()=>{if(typeof window=="undefined")return[];const e=d.filter(e=>{try{return typeof e.isSupported!="function"||e.isSupported()}catch(t){return console.warn("Vanta animation support check failed",e.key,t),!1}});try{if(s()){const t=e.findIndex(e=>e.key==="blank");t>0&&e.unshift(e.splice(t,1)[0])}}catch{}return e},e=(e={})=>{var h,m,f;if(typeof document=="undefined")return!1;const r=document.querySelector("#vanta-root")||document.querySelector("#top");if(!r)return!1;const j=e.force===!0,d=r.__vantaEffect;if(d){if(!j)return!0;typeof d.destroy=="function"&&d.destroy(),r.__vantaEffect=null}const o=n();if(!o.length)return!1;const p=a(),g=i();let c;if(typeof e.animationIndex=="number")c=e.animationIndex;else if(typeof g=="number")c=g;else if(s()){const e=o.findIndex(e=>e.key==="blank");c=e>=0?e:0}else c=p.currentIndex;const u=(c%o.length+o.length)%o.length,v=o[u],b=(m=t("--theme"))!=null?m:7241878,y={primary:(f=t("--primary"))!=null?f:6564908,secondary:(h=t("--secondary"))!=null?h:5999256,background:b,theme:b};try{const e=v.createEffect(r,y);if(!e)throw new Error("Vanta returned an empty effect instance");return r.__vantaEffect=e,p.currentIndex=u,l(u),!0}catch(e){console.error("Failed to initialize Vanta animation",v.key,e)}return!1},h=()=>{var s;if(typeof window=="undefined")return;const t=n();if(!t.length)return;const i=a(),o=(i.currentIndex+1)%t.length,r=e({force:!0,animationIndex:o});r||console.warn("Vanta animation cycle failed",(s=t[o])==null?0[0]:s.key)},m=()=>{if(typeof document=="undefined")return;const t=document.getElementById("theme-toggle");if(!t||t.__vantaReloadAttached)return;const n=()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e({force:!0})})})};t.addEventListener("click",n),t.__vantaReloadAttached=!0},f=()=>{if(typeof document=="undefined")return;const e=document.getElementById("change-animation");if(!e||e.__rotationHandlerAttached)return;const t=400,n=()=>{if(typeof e.animate=="function"){e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:t,easing:"ease-in-out"});return}e.classList.remove("is-rotating"),void e.offsetWidth,e.classList.add("is-rotating"),window.setTimeout(()=>{e.classList.remove("is-rotating")},t)};e.addEventListener("click",()=>{n(),window.requestAnimationFrame(()=>{h(),typeof e.blur=="function"&&e.blur()})}),e.__rotationHandlerAttached=!0},c=()=>{m(),f();const t=e();!t&&typeof window!="undefined"&&window.addEventListener("load",()=>e({force:!0}),{once:!0})},document.addEventListener("DOMContentLoaded",c),document.addEventListener("turbo:load",c),document.addEventListener("turbo:before-cache",()=>{try{const e=document.querySelector("#vanta-root");e&&e.__vantaEffect&&typeof e.__vantaEffect.pause=="function"&&e.__vantaEffect.pause()}catch{}}),document.addEventListener("turbo:render",()=>{try{const e=document.querySelector("#vanta-root");e&&e.__vantaEffect&&typeof e.__vantaEffect.resume=="function"&&e.__vantaEffect.resume()}catch{}})})()