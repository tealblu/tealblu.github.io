(()=>{var d=e=>{if(!e)return null;const t=e.trim().toLowerCase();if(t.startsWith("#")){const e=t.slice(1),s=e.length===3?e.split("").map(e=>`${e}${e}`).join(""):e,n=Number.parseInt(s,16);return Number.isNaN(n)?null:n}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(n){const[,e,t,s]=n.map(Number);return(e<<16)+(t<<8)+s}return null},s="vantaAnimationIndex",o=()=>{if(typeof window=="undefined")return null;try{return window.localStorage}catch(e){console.warn("Vanta localStorage access failed",e)}return null},l=()=>{const e=o();if(!e)return null;try{const t=e.getItem(s);if(t===null)return null;const n=Number.parseInt(t,10);return Number.isNaN(n)?null:n}catch(e){console.warn("Vanta animation index read failed",e)}return null},c=e=>{const t=o();if(!t)return;try{t.setItem(s,String(e))}catch(e){console.warn("Vanta animation index persist failed",e)}},t=e=>{if(typeof window=="undefined"||typeof document=="undefined")return null;const t=[document.body,document.documentElement].filter(Boolean);for(const s of t){const n=d(window.getComputedStyle(s).getPropertyValue(e));if(n!==null)return n}return null},m=[{key:"birds",label:"Birds",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.BIRDS)},createEffect:(e,t)=>window.VANTA.BIRDS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,birdSize:2,color1:t.primary,color2:t.secondary,backgroundColor:t.background,colorMode:"lerp",wingSpan:40,speedLimit:3,cohesion:20,quantity:2})},{key:"waves",label:"Waves",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.WAVES)},createEffect:(e,t)=>window.VANTA.WAVES({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,shininess:50,waveHeight:50,waveSpeed:.25,zoom:1,color:t.background,backgroundColor:t.primary})},{key:"fog",label:"Fog",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.FOG)},createEffect:(e,t)=>window.VANTA.FOG({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,highlightColor:t.primary,midtoneColor:t.secondary,lowlightColor:t.background,baseColor:t.background,blurFactor:1,speed:2,zoom:2.2})},{key:"net",label:"Net",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.NET)},createEffect:(e,t)=>window.VANTA.NET({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,color:t.primary,backgroundColor:t.background,maxDistance:25,spacing:15})},{key:"rings",label:"Rings",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.RINGS)},createEffect:(e,t)=>window.VANTA.RINGS({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:3,backgroundColor:t.theme,color:t.secondary,backgroundAlpha:.5})},{key:"halo",label:"Halo",isSupported:()=>{var e;return Boolean((e=window?.VANTA)==null?0[0]:e.HALO)},createEffect:(e,t)=>window.VANTA.HALO({el:e,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,baseColor:t.secondary,backgroundColor:t.theme,amplitudeFactor:2,xOffset:0,yOffset:0,size:1.25})}],n=()=>{if(typeof window=="undefined")return{currentIndex:0};if(!window.__vantaState){const e=l();window.__vantaState={currentIndex:typeof e=="number"?e:0}}return window.__vantaState},i=()=>typeof window=="undefined"||!window.VANTA?[]:m.filter(e=>{try{return typeof e.isSupported!="function"||e.isSupported()}catch(t){return console.warn("Vanta animation support check failed",e.key,t),!1}}),e=(e={})=>{var l,d,u;if(typeof document=="undefined")return!1;const o=document.querySelector("#top");if(!o)return!1;const p=e.force===!0,a=o.__vantaEffect;if(a){if(!p)return!0;typeof a.destroy=="function"&&a.destroy(),o.__vantaEffect=null}if(typeof window=="undefined"||!window.VANTA)return!1;const s=i();if(!s.length)return!1;const h=n(),g=typeof e.animationIndex=="number"?e.animationIndex:h.currentIndex,r=(g%s.length+s.length)%s.length,m=s[r],f=(u=t("--theme"))!=null?u:7241878,v={primary:(l=t("--primary"))!=null?l:6564908,secondary:(d=t("--secondary"))!=null?d:5999256,background:f,theme:f};try{const e=m.createEffect(o,v);if(!e)throw new Error("Vanta returned an empty effect instance");return o.__vantaEffect=e,h.currentIndex=r,c(r),!0}catch(e){console.error("Failed to initialize Vanta animation",m.key,e)}return!1},a=()=>{var s;if(typeof window=="undefined")return;const t=i();if(!t.length)return;const a=n(),o=(a.currentIndex+1)%t.length,r=e({force:!0,animationIndex:o});r||console.warn("Vanta animation cycle failed",(s=t[o])==null?0[0]:s.key)},u=()=>{if(typeof document=="undefined")return;const t=document.getElementById("theme-toggle");if(!t||t.__vantaReloadAttached)return;const n=()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e({force:!0})})})};t.addEventListener("click",n),t.__vantaReloadAttached=!0},h=()=>{if(typeof document=="undefined")return;const e=document.getElementById("change-animation");if(!e||e.__rotationHandlerAttached)return;const t=400,n=()=>{if(typeof e.animate=="function"){e.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:t,easing:"ease-in-out"});return}e.classList.remove("is-rotating"),void e.offsetWidth,e.classList.add("is-rotating"),window.setTimeout(()=>{e.classList.remove("is-rotating")},t)};e.addEventListener("click",()=>{n(),window.requestAnimationFrame(()=>{a(),typeof e.blur=="function"&&e.blur()})}),e.__rotationHandlerAttached=!0},r={0:"Clear skies",1:"Mostly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Heavy drizzle",56:"Light freezing drizzle",57:"Heavy freezing drizzle",61:"Light rain",63:"Moderate rain",65:"Heavy rain",66:"Light freezing rain",67:"Heavy freezing rain",71:"Light snow",73:"Moderate snow",75:"Heavy snow",77:"Snow grains",80:"Light rain showers",81:"Moderate rain showers",82:"Violent rain showers",85:"Light snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with hail",99:"Severe thunderstorm"},f=e=>{const t=typeof e=="string"?e.trim().toLowerCase():"";return t==="imperial"||t==="fahrenheit"||t==="f"?{temperatureUnit:"fahrenheit",symbol:"\xB0F"}:{temperatureUnit:"celsius",symbol:"\xB0C"}},p=e=>typeof e!="number"?"":r[e]||"",g=async e=>{if(!e||typeof fetch!="function")return null;const t=new URLSearchParams({name:e,count:"1"}),n=`https://geocoding-api.open-meteo.com/v1/search?${t.toString()}`;try{const s=await fetch(n,{method:"GET"});if(!s.ok)throw new Error(`Geocoding failed with status ${s.status}`);const o=await s.json(),t=Array.isArray(o?.results)?o.results[0]:null;if(!t)return null;const i=[t.name,t.admin1,t.country_code].filter(e=>typeof e=="string"&&e.trim().length>0).join(", ");return{latitude:typeof t.latitude=="number"?t.latitude:null,longitude:typeof t.longitude=="number"?t.longitude:null,displayName:i||e}}catch(e){console.warn("Weather geocoding failed",e)}return null},v=async({location:e,latitude:t,longitude:n,units:s})=>{if(typeof fetch!="function")return null;let o=Number.isFinite(t)?t:null,i=Number.isFinite(n)?n:null,a=e&&e.trim().length>0?e.trim():"";if((o===null||i===null)&&a){const e=await g(a);if(!e)return null;o=e.latitude,i=e.longitude,e.displayName&&(a=e.displayName)}if(o===null||i===null)return null;const{temperatureUnit:r,symbol:c}=f(s),l=new URLSearchParams({latitude:o.toFixed(4),longitude:i.toFixed(4),current:"temperature_2m,weather_code",temperature_unit:r,timezone:"auto"}),d=`https://api.open-meteo.com/v1/forecast?${l.toString()}`;try{const t=await fetch(d,{method:"GET"});if(!t.ok)throw new Error(`Weather request failed with status ${t.status}`);const n=await t.json(),e=n?.current;return!e||typeof e.temperature_2m!="number"?null:{locationName:a,temperature:e.temperature_2m,unitSymbol:c,description:p(typeof e.weather_code=="number"?e.weather_code:null)}}catch(e){console.warn("Weather request failed",e)}return null},b=()=>{if(typeof document=="undefined")return;const e=document.getElementById("nav-message-rotator");if(!e||e.dataset.weatherEnabled!=="true")return;if(e.querySelector('[data-weather-message="true"]'))return;const a=Array.from(e.querySelectorAll(".nav-module-message")),t=document.createElement("span");t.className="nav-module-message",t.dataset.index=String(a.length),t.dataset.weatherMessage="true";const n=typeof e.dataset.weatherLabel=="string"&&e.dataset.weatherLabel.trim().length>0?e.dataset.weatherLabel.trim():"";if(n){t.dataset.label=n;const e=document.createElement("span");e.className="nav-module-label",e.textContent=n,t.appendChild(e)}const s=document.createElement("span");s.className="nav-module-text",s.textContent="Loading weatherâ€¦",t.appendChild(s),a.length||t.classList.add("is-active"),e.appendChild(t);const r=parseFloat(e.dataset.weatherLatitude||""),c=parseFloat(e.dataset.weatherLongitude||""),l=Number.isFinite(r)?r:null,d=Number.isFinite(c)?c:null,i=typeof e.dataset.weatherLocation=="string"?e.dataset.weatherLocation:"",u=typeof e.dataset.weatherUnits=="string"?e.dataset.weatherUnits:"",o=n||(i?`Weather for ${i}`:"Current weather");v({location:i,latitude:l,longitude:d,units:u}).then(e=>{if(!e){s.textContent=`${o}: unavailable`,n||(t.dataset.label=o);return}const a=Math.round(e.temperature),i=[];e.locationName?i.push(`${e.locationName}: ${a}${e.unitSymbol}`):i.push(`${a}${e.unitSymbol}`),e.description&&i.push(e.description),s.textContent=i.join(", "),n||(t.dataset.label=e.locationName?`${e.locationName} weather`:"Current weather")}).catch(e=>{console.warn("Weather update failed",e),s.textContent=`${o}: unavailable`,n||(t.dataset.label=o)})},j=()=>{if(typeof document=="undefined")return;const e=document.getElementById("nav-message-rotator");if(!e||e.__navMessageRotatorAttached)return;const i=Array.from(e.querySelectorAll(".nav-module-message"));if(!i.length)return;let n=i.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0);const l=t=>{i.forEach((n,s)=>{const o=s===t;if(n.classList.toggle("is-active",o),n.setAttribute("aria-hidden",o?"false":"true"),o){e.dataset.activeIndex=String(s);const t=typeof n.dataset.label=="string"?n.dataset.label:"",o=(n.textContent||"").trim();t?e.title=t:o?e.title=o:e.removeAttribute("title")}}),n=t};l(n);const c=Number.parseInt(e.dataset.rotationInterval||"",10),s=typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-reduced-motion: reduce)"):null,u=Number.isFinite(c)&&c>0;let t=u&&!(s&&s.matches),a=null;const r=()=>{a!==null&&(window.clearTimeout(a),a=null)},d=()=>{const e=(n+1)%i.length;l(e)},o=()=>{if(!t)return;r();const e=Math.max(c,1e3);a=window.setTimeout(()=>{d(),o()},e)},h=()=>{if(!t)return;r()},m=()=>{if(!t)return;o()};e.addEventListener("click",()=>{d(),t&&o()}),s&&typeof s.addEventListener=="function"&&s.addEventListener("change",e=>{t=u&&!e.matches,t?o():r()}),t&&(o(),e.addEventListener("mouseenter",h),e.addEventListener("focus",h),e.addEventListener("mouseleave",m),e.addEventListener("blur",m)),e.__navMessageRotatorAttached=!0};document.addEventListener("DOMContentLoaded",()=>{const t=e();u(),h(),b(),j(),!t&&typeof window!="undefined"&&window.addEventListener("load",()=>e({force:!0}),{once:!0})})})()